<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Your Cart - BBETA</title>
  <link rel="stylesheet" href="style.css">
</head>
<a href="https://wa.me/917093242271" class="floating-whatsapp" target="_blank">
  <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
</a>
  <body>
  <header>
    <h1>BBETA</h1>
    <p>Apka Apna Bada Beta ğŸ›’</p>
    <a href="index.html" class="cart-link">â† Back to Shop</a>
  </header>

  <main>
    <h2>Your Cart</h2>
    <div id="cart-items"></div>
    <h3 id="cart-total">Total: â‚¹0</h3>

    <div class="customer-details">
      <h3>Customer Details</h3>
      <input type="text" id="custName" placeholder="Enter your name" required>
      <input type="text" id="custPhone" placeholder="Enter your phone number" required>
      <input type="text" id="custAddress" placeholder="Enter your address" required>
    </div>

    <button class="whatsapp-btn" onclick="placeOrder()">
      <img src="https://img.icons8.com/?size=48&id=16713&format=png" alt="WhatsApp">
      Place Order
    </button>
  </main>

  <script>
    // Load cart items
    function loadCart() {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      let cartItemsDiv = document.getElementById("cart-items");
      let cartTotalDiv = document.getElementById("cart-total");
      cartItemsDiv.innerHTML = "";
      let total = 0;

      cart.forEach(item => {
        let div = document.createElement("div");
        div.classList.add("cart-item");
        div.textContent = item.qty + " x " + item.name + " - â‚¹" + (item.price * item.qty);
        cartItemsDiv.appendChild(div);
        total += item.price * item.qty;
      });

      cartTotalDiv.textContent = "Total: â‚¹" + total;
    }

    // Place order via WhatsApp
    function placeOrder() {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      if (cart.length === 0) {
        alert("Your cart is empty!");
        return;
      }

      let name = document.getElementById("custName").value;
      let phone = document.getElementById("custPhone").value;
      let address = document.getElementById("custAddress").value;

      if (!name || !phone || !address) {
        alert("Please fill all customer details!");
        return;
      }

      let orderText = "ğŸ›’ New Order from BBETA:%0A";
      cart.forEach(item => {
        orderText += item.qty + " x " + item.name + " = â‚¹" + (item.price * item.qty) + "%0A";
      });

      let total = cart.reduce((sum, item) => sum + item.price * item.qty, 0);
      orderText += "%0ATotal: â‚¹" + total;
      orderText += "%0AğŸ‘¤ Name: " + name;
      orderText += "%0AğŸ“ Phone: " + phone;
      orderText += "%0AğŸ“ Address: " + address;

      // âœ… Aapka WhatsApp number
      let whatsappNumber = "917093242271";
      let whatsappURL = "https://wa.me/" + whatsappNumber + "?text=" + orderText;

      window.open(whatsappURL, "_blank");

      // Clear cart
      localStorage.removeItem("cart");
    }

    loadCart();
  </script>
</body>
</html>
